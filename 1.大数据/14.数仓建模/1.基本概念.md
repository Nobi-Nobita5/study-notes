**ODS层(Operational Data Store):** 原始数据层。存放业务系统采集过来的原始数据, 直接加载的业务数据, 不做处理 

**DWD层(Data Warehouse Detail):** 明细数据层。对于ODS层的数据做基本的处理, 并且进行业务事实的分析和定位(不合法的数据处理, 空值 的处理), 一行数据代表的是一个业务行为 

**DWS层(Data warehouse service):**公共汇总层,。对于DWD层的业务数据进行按天或者按照一定的周期进行统计分析, 是一个轻度聚合的结果 

**DIM层(Dimension):** 维度统计层。对于需要统计分析(group by)的相关的条件进行统一的设计和规范, 比如时间, 地 区, 用户等 

**ADS(Application Data Service):** 数据应用层。需要的业务统计分析结果, 一般会把ADS层的数据抽取到业务数据库MySQL中



#### 1. 度量

​	在数据仓库和商业智能领域，度量（Measures）是一种术语，指的是可以进行聚合的数值数据，通常是业务过程的关键性能指标。**度量是用于分析和决策的核心数据。**

​	度量通常存储在数据仓库的事实表（Fact Tables）中，可以理解为**事实表中数值类型的字段**，并与维度表（Dimension Tables）相关联。**维度表包含描述性数据，为度量提供上下文。**

注：**原子指标是不可拆分的度量**

#### 2.反范式、降维

在数据仓库和维度建模中，"反范式"和“降维”是优化数据结构以提高查询性能的方法。反范式涉及减少数据模型中的规范化，而降维涉及简化维度表的结构。它们通常一起使用，以提高数据仓库的性能。

1. **反范式 (Denormalization)**：这是一种过程，**通过合并表和增加冗余数据，减少数据模型中的规范化程度**。在一个高度规范化的模型中，数据被分布在许多相关表中，以减少冗余和提高数据完整性。然而，这也可能导致查询性能较差，因为必须执行多个连接操作来检索相关数据。通过反范式，可以通过预先存储计算值、合并表等方式来优化数据模型以提高查询性能。

2. **退化维 (Degenerate Dimension)**：降维是一种特殊类型的反范式，在这种情况下，**将维度数据直接嵌入到事实表中，而不是将其存储在单独的维度表中。这种方式通常用于那些不太可能改变或具有较少值的维度，从而减少查询时必要的连接数量**。

例如，考虑一个零售数据仓库，其中有一个事实表来存储销售事实（如销售额、数量等），以及多个维度表来存储相关的产品、时间和商店信息。在一个高度规范化的模型中，每种产品、每个时间点和每个商店都将在单独的维度表中存储。通过反范式和降维，可以将某些维度（如产品类别或商店地区）直接合并到事实表中。这样，当查询特定类别的销售额时，就不需要连接产品维度表。

总的来说，反范式和降维可以提高数据仓库的查询性能，但可能会增加数据冗余和维护成本。选择何时使用这些技术需要权衡这些因素，并根据查询模式和性能要求来进行决策。